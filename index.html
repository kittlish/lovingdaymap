<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Display a map</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
  <style>

    body { margin:0; padding:0; }

    #map {
      width: 100%;
      height: 100%;
    }

    #map-container {
      width: 100vw;
      height: 50vw;
    }

    #sliderbar {
      position:  absolute;
    }

  </style>
</head>
<body>

<div id='map-container'>
  <div id='map'></div>
</div>

<div class='session' id='sliderbar'>
  <h2>Year: <label id='active-year'></label></h2>
  <input id='slider' class='row' type='range' min='1776' max='1968' step='1' value='1776' />
</div>


<script>
mapboxgl.accessToken = 'pk.eyJ1IjoibGVtd2Vya3MiLCJhIjoiY2p1ZTRoYnd1MGxpNTQ0cjE0Mjl1cHRrYiJ9.kU435578KS5vrCHNwZX2kA';
const map = new mapboxg.Map({
  container: 'map',
  style: 'mapbox://styles/lemwerks/cjups06uh0cr51flc468wbj0s',
  center: [-95.733562, 38.871847],
  maxBounds: [
    [-140, 20],
    [-50, 50]
  ]
});

const slider = document.getElementById('slider');
const sliderLabel = document.getElementById('active-year');
slider.addEventListener('input', function(e) {
  const year = parseInt(slider.value);
  map.setFilter('lovingday', ['<=', ['number', ['get', 'lovingday']], year]);
  sliderLabel.innerText = year;
});
// 

</script>

</body>
</html>
